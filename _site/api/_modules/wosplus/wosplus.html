
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>wosplus.wosplus &#8212; Colav 0.2.8 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../../_static/colav.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for wosplus.wosplus</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">configparser</span> <span class="k">import</span> <span class="n">ConfigParser</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">._google_drive_tools</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">._pajek_tools</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">._wos_scp</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">._merge_tools</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">._wos_parser</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">._plotter</span> <span class="k">import</span> <span class="n">_plot_sets</span>
<span class="k">except</span> <span class="p">(</span><span class="ne">SystemError</span><span class="p">,</span> <span class="ne">ImportError</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">_google_drive_tools</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">_pajek_tools</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">_wos_scp</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">_merge_tools</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">_wos_parser</span> <span class="k">import</span> <span class="o">*</span>
    <span class="kn">from</span> <span class="nn">_plotter</span> <span class="k">import</span> <span class="n">_plot_sets</span>
<span class="c1"># TODO: change Tipo for Type or something similar</span>
<span class="c1">#pd.set_option(&#39;display.max_rows&#39;, 500)</span>
<span class="c1">#pd.set_option(&#39;display.max_columns&#39;, 500)</span>
<span class="c1"># pd.set_option(&#39;display.max_colwidth&#39;,1000)</span>


<div class="viewcode-block" id="grep"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.grep">[docs]</a><span class="k">def</span> <span class="nf">grep</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">multilinestring</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;Grep replacement in python</span>
<span class="sd">    as in: $ echo $multilinestring | grep pattern</span>
<span class="sd">    dev: re.M is for multiline strings</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">grp</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="s1">&#39;(.*)</span><span class="si">%s</span><span class="s1">(.*)&#39;</span> <span class="o">%</span> <span class="n">pattern</span><span class="p">,</span> <span class="n">multilinestring</span><span class="p">,</span> <span class="n">re</span><span class="o">.</span><span class="n">M</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">g</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">grp</span><span class="p">])</span></div>


<div class="viewcode-block" id="merge_inner_interior_exterior"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.merge_inner_interior_exterior">[docs]</a><span class="k">def</span> <span class="nf">merge_inner_interior_exterior</span><span class="p">(</span>
        <span class="n">LEFT</span><span class="p">,</span>
        <span class="n">RIGHT</span><span class="p">,</span>
        <span class="n">on_condition</span><span class="o">=</span><span class="s1">&#39;SCP_DOI&#39;</span><span class="p">,</span>
        <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;ST&#39;</span><span class="p">,</span>
        <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;Simple_Title&#39;</span><span class="p">,</span>
        <span class="n">left_series</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(),</span>
        <span class="n">right_series</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(),</span>
        <span class="n">left_extra_on</span><span class="o">=</span><span class="s1">&#39;SO&#39;</span><span class="p">,</span>
        <span class="n">right_extra_on</span><span class="o">=</span><span class="s1">&#39;UDEA_nombre revista o premio&#39;</span><span class="p">,</span>
        <span class="n">close_matches</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
        <span class="n">cutoff</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
        <span class="n">cutoff_extra</span><span class="o">=</span><span class="mf">0.6</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Given a df LEFT and a RIGHT[RIGHT[on_condition]!=&#39;&#39;] fully True, then</span>
<span class="sd">    Get a tuple with the following 3 dataframes</span>
<span class="sd">    1) left-right intersection (inner): LR</span>
<span class="sd">    1) pure left (interior): L-LR</span>
<span class="sd">    3) pure right: R-LR (exterior)</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">if</span> <span class="n">LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All entries matched&#39;</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">l</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span> <span class="n">RIGHT</span>

    <span class="n">RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span><span class="p">[</span><span class="n">RIGHT</span><span class="p">[</span><span class="n">on_condition</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;&#39;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">interior</span><span class="p">,</span> <span class="n">inner</span><span class="p">,</span> <span class="n">exterior</span> <span class="o">=</span> <span class="n">merge_by_series</span><span class="p">(</span><span class="n">LEFT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">left_on</span><span class="o">=</span><span class="n">left_on</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="n">right_on</span><span class="p">,</span>
                                                    <span class="n">left_series</span><span class="o">=</span><span class="n">left_series</span><span class="p">,</span> <span class="n">right_series</span><span class="o">=</span><span class="n">right_series</span><span class="p">,</span>
                                                    <span class="n">left_extra_on</span><span class="o">=</span><span class="n">left_extra_on</span><span class="p">,</span> <span class="n">right_extra_on</span><span class="o">=</span><span class="n">right_extra_on</span><span class="p">,</span>
                                                    <span class="n">close_matches</span><span class="o">=</span><span class="n">close_matches</span><span class="p">,</span> <span class="n">cutoff</span><span class="o">=</span><span class="n">cutoff</span><span class="p">,</span> <span class="n">cutoff_extra</span><span class="o">=</span><span class="n">cutoff_extra</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">interior</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">and</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">exterior</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="k">return</span> <span class="n">inner</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span>
                <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">interior</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span>
                <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">exterior</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span>
                <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(),</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">())</span></div>


<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Input files assumed to have public links in Google Drive</span>
<span class="sd">A config file, e.g &#39;drive.cfg&#39; is expected with the following structure</span>
<span class="sd">==============================================================</span>
<span class="sd">[FILES]</span>
<span class="sd">WOS_FILE.xlsx              = 1--LJZ4mYyQcaJ93xBdbnYj-ZzdjO2Wq2</span>
<span class="sd">...</span>
<span class="sd">==============================================================</span>
<span class="sd">USAGE:</span>
<span class="sd">    import wosplus as wp</span>
<span class="sd">    WOS=wp.wosplus(&#39;drive.cfg&#39;)</span>
<span class="sd">    #check Google Drive id for file</span>
<span class="sd">    WOS.drive_file.get(&#39;WOS_FILE.xlsx&#39;)</span>
<span class="sd">    #load biblio</span>
<span class="sd">    WOS.load_biblio(&#39;WOS_FILE.xlsx&#39;)</span>
<span class="sd">    # DataFrame in WOS.WOS or WOS.biblio[&#39;WOS&#39;]</span>

<span class="sd">The main method is &#39;load_biblio&#39; it must have a prefix according to</span>
<span class="sd">the type of supported bibliography. This prefix will be appended</span>
<span class="sd">to the ALL the columns of the generated bibligraphy</span>

<span class="sd">wp.type gives the type of bibliography Data Base.</span>
<span class="sd">Currently implenented:</span>
<span class="sd">    * WOS: two characters columns</span>
<span class="sd">    * SCI: prefixed SCI_ columns is returned</span>
<span class="sd">    * SCP: prefixed SCP_ columns is returned</span>
<span class="sd">and any combinantion</span>
<span class="sd">of them keeping the same ordering.</span>

<span class="sd">The type mus be declared with the &#39;load_biblio&#39; with the &#39;prefix&#39; option</span>
<span class="sd">(Default type is WOS)</span>
<span class="sd">&quot;&quot;&quot;</span>
<div class="viewcode-block" id="wosplus"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus">[docs]</a><span class="k">class</span> <span class="nc">wosplus</span><span class="p">:</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cfg_file</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Based on:</span>
<span class="sd">        http://stackoverflow.com/a/39225272</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">cfg</span> <span class="o">=</span> <span class="n">ConfigParser</span><span class="p">()</span>
        <span class="n">cfg</span><span class="o">.</span><span class="n">optionxform</span> <span class="o">=</span> <span class="nb">str</span>
        <span class="k">if</span> <span class="n">cfg_file</span><span class="p">:</span>
            <span class="n">cfg</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">cfg_file</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">cfg</span><span class="o">.</span><span class="n">read_dict</span><span class="p">({</span><span class="s1">&#39;FILES&#39;</span><span class="p">:</span>
                           <span class="p">{</span><span class="s1">&#39;Sample_WOS.xlsx&#39;</span><span class="p">:</span> <span class="s1">&#39;0BxoOXsn2EUNIMldPUFlwNkdLOTQ&#39;</span><span class="p">}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span> <span class="o">=</span> <span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;FILES&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>

<div class="viewcode-block" id="wosplus.read_drive_file"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.read_drive_file">[docs]</a>    <span class="k">def</span> <span class="nf">read_drive_file</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Convert Google Drive File in a Pyton IO file object</span>

<span class="sd">         Requires a self.drive_file dictionary intialized with the class.</span>
<span class="sd">         See read_drive_excel help</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">return</span> <span class="n">download_file_from_google_drive</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_name</span><span class="p">))</span></div>

<div class="viewcode-block" id="wosplus.read_drive_excel"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.read_drive_excel">[docs]</a>    <span class="k">def</span> <span class="nf">read_drive_excel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        TODO: Make independent of the class!</span>
<span class="sd">        Generalization of the Pandas DataFrame read_excel method</span>
<span class="sd">        to include google drive file names:</span>

<span class="sd">         Read excel or csv file from google drive</span>
<span class="sd">         Requires a self.drive_file dictionary intialized with the class</span>
<span class="sd">         (see below) with the id&#39;s for the</span>
<span class="sd">         google drive file names.</span>
<span class="sd">         If the file_name is not found in the drive_file dictionary it is read locally.</span>
<span class="sd">         If the file_name have an extension .csv, try to read the google spreadsheet</span>
<span class="sd">         directly: check pandas_from_google_drive_csv for passed options</span>
<span class="sd">         WARNING: ONLY OLD Google Spread Sheet allows to load sheet different from 0</span>

<span class="sd">         drive_file dictionary: for some file, e.g &#39;drive.cfg&#39; the format must be:</span>
<span class="sd">          $ cat drive.cfg</span>
<span class="sd">          [FILES]</span>
<span class="sd">          Sample_WOS.xlsx = 0BxoOXsn2EUNIMldPUFlwNkdLOTQ</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="c1"># Try to load Google spreadsheet if extension is csv</span>
        <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\.csv$&#39;</span><span class="p">,</span> <span class="n">file_name</span><span class="p">):</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">pandas_from_google_drive_csv</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_name</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

        <span class="c1"># Try to load xlsx file if file extension is not csv</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
            <span class="c1"># ,{} is an accepted option</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_drive_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="wosplus.read_drive_json"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.read_drive_json">[docs]</a>    <span class="k">def</span> <span class="nf">read_drive_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Generalization of the Pandas DataFrame read_json method</span>
<span class="sd">        to include google drive file names:</span>

<span class="sd">         Requires a self.drive_file dictionary intialized with the class.</span>
<span class="sd">         See read_drive_excel help</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_drive_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="wosplus.read_drive_csv"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.read_drive_csv">[docs]</a>    <span class="k">def</span> <span class="nf">read_drive_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Generalization of the Pandas DataFrame read_csv method</span>
<span class="sd">        to include google drive file names:</span>

<span class="sd">         Requires a self.drive_file dictionary intialized with the class.</span>
<span class="sd">         See read_drive_excel help</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">file_name</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_drive_file</span><span class="p">(</span><span class="n">file_name</span><span class="p">),</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_name</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></div>

<div class="viewcode-block" id="wosplus.load_biblio"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.load_biblio">[docs]</a>    <span class="k">def</span> <span class="nf">load_biblio</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">WOS_file</span><span class="p">,</span> <span class="n">prefix</span><span class="o">=</span><span class="s1">&#39;WOS&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Load WOS xlsx file, or if prefix is given:</span>
<span class="sd">          prefix=&#39;SCI&#39;: Load SCI xlsx file and append the &#39;SCI_&#39; prefix in each column</span>
<span class="sd">          prefix=&#39;SCP&#39;: Load SCI csv file and append the &#39;SCP_&#39; prefix in each column</span>
<span class="sd">        and add the WOS, SCI, or SCP  attribute to self.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="kn">from</span> <span class="nn">pathlib</span> <span class="k">import</span> <span class="n">Path</span>
        <span class="kn">import</span> <span class="nn">sys</span>
        <span class="n">DOI</span> <span class="o">=</span> <span class="s1">&#39;DI&#39;</span>
        <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s1">&#39;SCP&#39;</span><span class="p">:</span>  <span class="c1"># Only if pure scopus</span>
            <span class="n">DOI</span> <span class="o">=</span> <span class="s1">&#39;DOI&#39;</span>
        <span class="c1"># elif: #Other no WOS-like pures</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;\.txt$&#39;</span><span class="p">,</span> <span class="n">WOS_file</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;\.json$&#39;</span><span class="p">,</span> <span class="n">WOS_file</span><span class="p">):</span>
                <span class="n">WOS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_drive_json</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">WOS</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_drive_excel</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">id_google_drive</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">drive_file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">id_google_drive</span><span class="p">:</span>
                <span class="n">wos_txt</span> <span class="o">=</span> <span class="n">download_file_from_google_drive</span><span class="p">(</span>
                    <span class="n">id_google_drive</span><span class="p">)</span>  <span class="c1"># ,binary=False)</span>
                <span class="n">WOS</span> <span class="o">=</span> <span class="n">wos_to_list_to_pandas</span><span class="p">(</span><span class="n">wos_txt</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>  <span class="c1"># check local file</span>
                <span class="n">my_file</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">my_file</span><span class="o">.</span><span class="n">is_file</span><span class="p">():</span>
                    <span class="n">WOS</span> <span class="o">=</span> <span class="n">wos_parser</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;WOS File: </span><span class="si">{}</span><span class="s1">, NOT FOUND!&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">))</span>

        <span class="n">WOS</span> <span class="o">=</span> <span class="n">fill_NaN</span><span class="p">(</span><span class="n">WOS</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">prefix</span> <span class="o">==</span> <span class="s1">&#39;SCI&#39;</span><span class="p">:</span>
            <span class="n">exec</span><span class="p">(</span><span class="s1">&#39;self.</span><span class="si">{}</span><span class="s1">_not_prefix=WOS&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prefix</span><span class="p">))</span>

        <span class="k">if</span> <span class="s1">&#39;DI&#39;</span> <span class="ow">in</span> <span class="n">WOS</span> <span class="ow">and</span> <span class="s1">&#39;TI&#39;</span> <span class="ow">in</span> <span class="n">WOS</span> <span class="ow">and</span> <span class="s1">&#39;SO&#39;</span> <span class="ow">in</span> <span class="n">WOS</span><span class="p">:</span>
            <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;DI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;DI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;TI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;TI&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="s1">&#39; &#39;</span><span class="p">)</span>
            <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;SO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;SO&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">if</span> <span class="s1">&#39;X1&#39;</span> <span class="ow">in</span> <span class="n">WOS</span><span class="p">:</span>
            <span class="n">WOS_ti</span><span class="p">,</span> <span class="n">WOS_not_ti</span> <span class="o">=</span> <span class="n">df_split</span><span class="p">(</span><span class="n">WOS</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;TI&#39;</span><span class="p">,</span> <span class="n">on_not_condition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">WOS_not_ti</span><span class="p">[</span><span class="s1">&#39;TI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WOS_not_ti</span><span class="p">[</span><span class="s1">&#39;X1&#39;</span><span class="p">]</span>
            <span class="n">WOS</span> <span class="o">=</span> <span class="n">WOS_ti</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">WOS_not_ti</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="s1">&#39;TI&#39;</span> <span class="ow">in</span> <span class="n">WOS</span><span class="p">:</span>
            <span class="n">WOS</span> <span class="o">=</span> <span class="n">WOS</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="s1">&#39;TI&#39;</span><span class="p">)</span>

        <span class="c1"># Drop duplicated DOIS</span>
        <span class="k">if</span> <span class="n">DOI</span> <span class="ow">in</span> <span class="n">WOS</span><span class="p">:</span>
            <span class="n">WOS_di</span><span class="p">,</span> <span class="n">WOS_not_di</span> <span class="o">=</span> <span class="n">df_split</span><span class="p">(</span><span class="n">WOS</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">DOI</span><span class="p">,</span> <span class="n">on_not_condition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">WOS</span> <span class="o">=</span> <span class="n">WOS_not_di</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">WOS_di</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">DOI</span><span class="p">))</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">prefix</span> <span class="o">!=</span> <span class="s1">&#39;WOS&#39;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
            <span class="c1"># check if already present</span>
            <span class="n">WOS</span> <span class="o">=</span> <span class="n">columns_add_prefix</span><span class="p">(</span><span class="n">WOS</span><span class="p">,</span> <span class="n">prefix</span><span class="p">)</span>

        <span class="c1"># Without prefix columns</span>
        <span class="k">if</span> <span class="s1">&#39;Tipo&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">WOS</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">,</span> <span class="n">prefix</span><span class="p">):</span>
            <span class="n">WOS</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">prefix</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;WARNING: Biblio already has a &quot;Tipo&quot; column&#39;</span><span class="p">)</span>

        <span class="n">exec</span><span class="p">(</span><span class="s1">&#39;self.</span><span class="si">{}</span><span class="s1">=WOS&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prefix</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prefix</span><span class="p">)]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prefix</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">prefix</span><span class="p">)]</span> <span class="o">=</span> <span class="n">WOS</span></div>

<div class="viewcode-block" id="wosplus.plot_sets"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.plot_sets">[docs]</a>    <span class="k">def</span> <span class="nf">plot_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;WOSplus Venn Diagram&quot;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)):</span>
        <span class="sd">&quot;&quot;&quot; Plot of Venn Diagram for papers between Scopus, Scielo and Web of Science</span>
<span class="sd">        Params:</span>
<span class="sd">        title: plot title</span>
<span class="sd">        figsize: tuple with width and height</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">_plot_sets</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">figsize</span><span class="p">)</span></div>

<div class="viewcode-block" id="wosplus.normalize"><a class="viewcode-back" href="../../api.html#wosplus.wosplus.wosplus.normalize">[docs]</a>    <span class="k">def</span> <span class="nf">normalize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        This method allows to normalize the name of the columns across the different databases</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;SCP&quot;</span><span class="p">):</span>
            <span class="n">SCP_COLNAMES</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_DOI&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;DI&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;TI&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Source title&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SO&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Year&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PY&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_ISSN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SN&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Abstract&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;AB&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Page end&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EP&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Authors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;AU&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Page count&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PG&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_ISBN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BN&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Language of Original Document&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;LA&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Issue&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IS&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Page start&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BP&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Author Keywords&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;DE&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Document Type&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;DT&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_PubMed ID&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PM&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Publisher&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PU&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Volume&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;VL&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Conference name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;CT&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Conference date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;CY&quot;</span>
            <span class="n">SCP_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCP_Conference location&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;CL&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SCP</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SCP</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">SCP_COLNAMES</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: SCP database not loaded&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;SCI&quot;</span><span class="p">):</span>
            <span class="c1"># NOTE: PG BN CT CY CL columns are not defined in SCI</span>

            <span class="n">SCI_COLNAMES</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_DI&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;DI&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_TI&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;TI&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_SO&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SO&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_PY&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PY&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_SN&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;SN&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_AB&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;AB&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_EP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;EP&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_AU&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;AU&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_LA&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;LA&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_IS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;IS&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_BP&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;BP&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_DE&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;DE&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_DT&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;DT&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_PM&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PM&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_PU&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;PU&quot;</span>
            <span class="n">SCI_COLNAMES</span><span class="p">[</span><span class="s2">&quot;SCI_VL&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;VL&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">SCI</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">SCI</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="nb">str</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">SCI_COLNAMES</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;WARNING: SCI database not loaded&quot;</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_merge</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="s1">&#39;WOS&#39;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s1">&#39;SCI&#39;</span><span class="p">,</span> <span class="n">left_DOI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">left_TI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">left_extra_journal</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">left_author</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">left_year</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right_DOI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right_TI</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right_extra_journal</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
               <span class="n">right_author</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">right_year</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Merge left and right bibliographic dataframes by TYPE and with</span>
<span class="sd">        Python merge ooption: `how=&#39;outer&#39;`.</span>

<span class="sd">        The TYPE must coincide with the Object attribute Dataframe: eg:</span>
<span class="sd">        `left=&#39;WOS&#39;` imply that WOS must be an attribute of</span>
<span class="sd">        self: self.WOS</span>
<span class="sd">        `right=&#39;SCI&#39;` imply that WOS must be an attribute of</span>
<span class="sd">        self: self.WOS</span>
<span class="sd">        The DataFrame attributtes of the object `self` are populated by using</span>
<span class="sd">          `self.loadbiblio(file)`: See `self` help for further instructions.</span>

<span class="sd">        The self.right DataFrame need to have some mandatories columns:</span>
<span class="sd">         [[right_DOI,right_TI,right_extra_journal,right_author,right_year]]</span>
<span class="sd">         They are automatically defined for self.righ TYPE: SCI and SCP and</span>
<span class="sd">         must be given for other TYPE</span>

<span class="sd">        Output:</span>
<span class="sd">        The resulting DataFrame is returned as:</span>
<span class="sd">          * self.left_right # with strings names converted into variable names</span>
<span class="sd">          * self.bibilio[&#39;left_right&#39;] # pd.Series</span>
<span class="sd">        and also the new resulting TYPE is stored as</span>
<span class="sd">          * self.Tipo[&#39;left_right&#39;] -&gt; &#39;left_right&#39; # pd.Series</span>

<span class="sd">        Examples:</span>
<span class="sd">            #merge SCI with SCP</span>
<span class="sd">            wsp._merge(left=&quot;SCI&quot;,right=&quot;SCP&quot;,left_DOI=&quot;SCI_DI&quot;,left_TI=&quot;SCI_TI&quot;,left_extra_journal=&quot;SCI_SO&quot;,left_author=&quot;SCI_AU&quot;,left_year=&quot;SCP_PY&quot;,</span>
<span class="sd">            right_DOI=&quot;SCP_DOI&quot;,right_TI=&quot;SCP_Title&quot;,right_extra_journal=&quot;SCP_Source title&quot;,right_author=&quot;SCP_Authors&quot;, right_year=&quot;SCP_Year&quot;)</span>

<span class="sd">            #merge WOS with SCI</span>
<span class="sd">            wsp._merge(left=&quot;WOS&quot;,right=&quot;SCI&quot;,left_DOI=&quot;DI&quot;,left_TI=&quot;TI&quot;,left_extra_journal=&quot;SO&quot;,left_author=&quot;AU&quot;,left_year=&quot;PY&quot;,</span>
<span class="sd">            right_DOI=&quot;SCI_DI&quot;,right_TI=&quot;SCI_TI&quot;,right_extra_journal=&quot;SCI_SO&quot;,right_author=&quot;SCI_AU&quot;, right_year=&quot;SCI_PY&quot;)</span>

<span class="sd">            #merge WOS_SCI with SCP NOTE: requires to call first a merge between WOS and SCI with WOS in the left key</span>
<span class="sd">            wsp._merge(left=&quot;WOS_SCI&quot;,right=&quot;SCP&quot;,left_DOI=&quot;DI&quot;,left_TI=&quot;TI&quot;,left_extra_journal=&quot;SO&quot;,left_author=&quot;AU&quot;,left_year=&quot;PY&quot;,</span>
<span class="sd">            right_DOI=&quot;SCP_DOI&quot;,right_TI=&quot;SCP_Title&quot;,right_extra_journal=&quot;SCP_Source title&quot;,right_author=&quot;SCP_Authors&quot;, right_year=&quot;SCP_Year&quot;)</span>

<span class="sd">            #merge WOS with SCP</span>
<span class="sd">            wsp._merge(left=&quot;WOS&quot;,right=&quot;SCP&quot;,left_DOI=&quot;DI&quot;,left_TI=&quot;TI&quot;,left_extra_journal=&quot;SO&quot;,left_author=&quot;AU&quot;,left_year=&quot;PY&quot;,</span>
<span class="sd">            right_DOI=&quot;SCP_DOI&quot;,right_TI=&quot;SCP_Title&quot;,right_extra_journal=&quot;SCP_Source title&quot;,right_author=&quot;SCP_Authors&quot;, right_year=&quot;SCP_Year&quot;)</span>

<span class="sd">        The merged DOI, Titles and Journal Names are stored in</span>
<span class="sd">        the WOS like `self.left_right` columns: DI,TI,SO with `self.left`</span>
<span class="sd">        priority for the values.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">left</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;wosplus&#39;</span><span class="p">,</span> <span class="s1">&#39;ERROR:  </span><span class="si">{}</span><span class="s1"> and </span><span class="si">{}</span><span class="s1"> must be attributes of class </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">left</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span> <span class="ow">or</span> <span class="n">right</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;wosplus&#39;</span><span class="p">,</span> <span class="s1">&#39;ERROR: missing biblio Series in </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">left</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="ow">or</span> <span class="n">right</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;wosplus&#39;</span><span class="p">,</span> <span class="s1">&#39;ERROR: missing type Series in </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1"> </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>

        <span class="n">left_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span><span class="p">[</span><span class="n">left</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">right_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span><span class="p">[</span><span class="n">right</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;intial: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">right_df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>

        <span class="c1"># clean Tipo</span>
        <span class="k">if</span> <span class="s1">&#39;Tipo&#39;</span> <span class="ow">in</span> <span class="n">right_df</span><span class="p">:</span>
            <span class="n">right_df</span> <span class="o">=</span> <span class="n">right_df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;Tipo&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>

        <span class="c1"># Merge on DOIs</span>

        <span class="n">LEFT_RIGHT_inner</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
        <span class="n">RIGHT_on</span> <span class="o">=</span> <span class="n">right_DOI</span>
        <span class="c1"># RIGHT: no empty values for column &#39;right_df&#39;</span>
        <span class="n">RIGHT</span><span class="p">,</span> <span class="n">next_RIGHT</span> <span class="o">=</span> <span class="n">df_split</span><span class="p">(</span>
            <span class="n">right_df</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">RIGHT_on</span><span class="p">,</span> <span class="n">on_not_condition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="c1"># full_RIGHT=RIGHT.append(next_RIGHT)</span>
        <span class="n">LEFT</span> <span class="o">=</span> <span class="n">left_df</span>
        <span class="n">LEFT_on</span> <span class="o">=</span> <span class="n">left_DOI</span>
        <span class="n">LEFT_series</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">LEFT</span><span class="p">[</span><span class="n">LEFT_on</span><span class="p">])</span>
        <span class="n">RIGHT_series</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">RIGHT</span><span class="p">[</span><span class="n">RIGHT_on</span><span class="p">])</span>

        <span class="n">LR</span> <span class="o">=</span> <span class="n">merge_inner_interior_exterior</span><span class="p">(</span>
            <span class="n">LEFT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
            <span class="n">RIGHT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
            <span class="n">on_condition</span><span class="o">=</span><span class="n">RIGHT_on</span><span class="p">,</span>
            <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;LEFT_simple_doi&#39;</span><span class="p">,</span>
            <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;RIGHT_simple_doi&#39;</span><span class="p">,</span>
            <span class="n">left_series</span><span class="o">=</span><span class="n">LEFT_series</span><span class="p">,</span>
            <span class="n">right_series</span><span class="o">=</span><span class="n">RIGHT_series</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">LR</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="c1"># LEFT.shape[0]=inner.shape[0]+new_LEFT.shape[0]</span>
            <span class="n">inner</span><span class="p">,</span> <span class="n">new_LEFT</span><span class="p">,</span> <span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">LR</span>
            <span class="c1"># RIGHT.shape[0]=inner.shape[0]+new_RIGHT.shape[0]</span>
            <span class="n">inner</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inner</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
            <span class="n">LEFT_RIGHT_inner</span> <span class="o">=</span> <span class="n">LEFT_RIGHT_inner</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">inner</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_LEFT</span> <span class="o">=</span> <span class="n">LEFT</span>
            <span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                  <span class="n">new_RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;=,...,=&#39;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">new_LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">next_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">new_RIGHT</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">LEFT_RIGHT_inner</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(((</span><span class="n">new_LEFT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LEFT_RIGHT_inner</span><span class="p">))</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="n">new_RIGHT</span><span class="p">))</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_RIGHT</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

        <span class="c1"># Merge on (splitted) Titles: generated with &#39;split_translated_columns&#39; before</span>
        <span class="c1"># next_RIGHT have column information even if empty</span>
        <span class="k">for</span> <span class="n">nTI</span> <span class="ow">in</span> <span class="p">[</span><span class="n">right_TI</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">next_RIGHT</span><span class="o">.</span><span class="n">columns</span>
                                 <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_[0-9]+&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">right_TI</span><span class="p">),</span> <span class="n">x</span><span class="p">)]:</span>
            <span class="n">RIGHT_on</span> <span class="o">=</span> <span class="n">nTI</span>
            <span class="n">full_RIGHT</span> <span class="o">=</span> <span class="n">new_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_RIGHT</span><span class="p">)</span>
            <span class="n">RIGHT</span><span class="p">,</span> <span class="n">next_RIGHT</span> <span class="o">=</span> <span class="n">df_split</span><span class="p">(</span>
                <span class="n">full_RIGHT</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">RIGHT_on</span><span class="p">,</span> <span class="n">on_not_condition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">RIGHT_on</span><span class="p">)</span>
            <span class="n">RIGHT_series</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">RIGHT</span><span class="p">[</span><span class="n">RIGHT_on</span><span class="p">])</span>

            <span class="n">LEFT</span> <span class="o">=</span> <span class="n">new_LEFT</span>
            <span class="n">LEFT_series</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">LEFT</span><span class="p">[</span><span class="n">left_TI</span><span class="p">])</span>

            <span class="n">LR</span> <span class="o">=</span> <span class="n">merge_inner_interior_exterior</span><span class="p">(</span>
                <span class="n">LEFT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
                <span class="n">RIGHT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
                <span class="n">on_condition</span><span class="o">=</span><span class="n">RIGHT_on</span><span class="p">,</span>
                <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;LEFT_Simple_title&#39;</span><span class="p">,</span>
                <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;RIGHT_Simple_title&#39;</span><span class="p">,</span>
                <span class="n">left_series</span><span class="o">=</span><span class="n">LEFT_series</span><span class="p">,</span>
                <span class="n">right_series</span><span class="o">=</span><span class="n">RIGHT_series</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">LR</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">inner</span><span class="p">,</span> <span class="n">new_LEFT</span><span class="p">,</span> <span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">LR</span>
                <span class="n">inner</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inner</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
                <span class="n">LEFT_RIGHT_inner</span> <span class="o">=</span> <span class="n">LEFT_RIGHT_inner</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">inner</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_LEFT</span> <span class="o">=</span> <span class="n">LEFT</span>
                <span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">new_LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">next_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">new_RIGHT</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">LEFT_RIGHT_inner</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(((</span><span class="n">new_LEFT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LEFT_RIGHT_inner</span><span class="p">))</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">new_RIGHT</span><span class="p">))</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_RIGHT</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

        <span class="c1"># Merge on Similar Titles</span>
        <span class="k">for</span> <span class="n">nTI</span> <span class="ow">in</span> <span class="p">[</span><span class="n">right_TI</span><span class="p">]</span> <span class="o">+</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">next_RIGHT</span><span class="o">.</span><span class="n">columns</span>
                                 <span class="k">if</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_[0-9]+&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">right_TI</span><span class="p">),</span> <span class="n">x</span><span class="p">)]:</span>
            <span class="n">RIGHT_on</span> <span class="o">=</span> <span class="n">nTI</span>
            <span class="n">full_RIGHT</span> <span class="o">=</span> <span class="n">new_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_RIGHT</span><span class="p">)</span>
            <span class="n">RIGHT</span><span class="p">,</span> <span class="n">next_RIGHT</span> <span class="o">=</span> <span class="n">df_split</span><span class="p">(</span>
                <span class="n">full_RIGHT</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="n">RIGHT_on</span><span class="p">,</span> <span class="n">on_not_condition</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="n">RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">RIGHT_on</span><span class="p">)</span>
            <span class="n">RIGHT_series</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">RIGHT</span><span class="p">[</span><span class="n">RIGHT_on</span><span class="p">])</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                <span class="s1">&#39;\[&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;\]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>

            <span class="n">LEFT</span> <span class="o">=</span> <span class="n">new_LEFT</span>
            <span class="n">LEFT_series</span> <span class="o">=</span> <span class="n">clean</span><span class="p">(</span><span class="n">LEFT</span><span class="p">[</span><span class="n">left_TI</span><span class="p">])</span>

            <span class="n">LR</span> <span class="o">=</span> <span class="n">merge_inner_interior_exterior</span><span class="p">(</span>
                <span class="n">LEFT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
                <span class="n">RIGHT</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span>
                <span class="n">on_condition</span><span class="o">=</span><span class="n">RIGHT_on</span><span class="p">,</span>
                <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;LEFT_Simple_title&#39;</span><span class="p">,</span>
                <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;RIGHT_Simple_title&#39;</span><span class="p">,</span>
                <span class="n">left_series</span><span class="o">=</span><span class="n">LEFT_series</span><span class="p">,</span>
                <span class="n">right_series</span><span class="o">=</span><span class="n">RIGHT_series</span><span class="p">,</span>
                <span class="n">left_extra_on</span><span class="o">=</span><span class="n">left_extra_journal</span><span class="p">,</span>
                <span class="n">right_extra_on</span><span class="o">=</span><span class="n">right_extra_journal</span><span class="p">,</span>
                <span class="n">close_matches</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
                <span class="n">cutoff</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">LR</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                <span class="n">inner</span><span class="p">,</span> <span class="n">new_LEFT</span><span class="p">,</span> <span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">LR</span>
                <span class="n">inner</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">inner</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39;_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">right</span><span class="p">)</span>
                <span class="n">LEFT_RIGHT_inner</span> <span class="o">=</span> <span class="n">LEFT_RIGHT_inner</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">inner</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_LEFT</span> <span class="o">=</span> <span class="n">LEFT</span>
                <span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">inner</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">RIGHT</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">new_LEFT</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="p">(</span><span class="n">next_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">new_RIGHT</span><span class="p">))</span><span class="o">.</span><span class="n">shape</span><span class="p">,</span> <span class="n">LEFT_RIGHT_inner</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(((</span><span class="n">new_LEFT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LEFT_RIGHT_inner</span><span class="p">))</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                    <span class="n">new_RIGHT</span><span class="p">))</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">next_RIGHT</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

        <span class="n">full_RIGHT</span> <span class="o">=</span> <span class="n">next_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">new_RIGHT</span><span class="p">)</span>
        <span class="n">full_RIGHT</span><span class="p">[</span><span class="s1">&#39;Tipo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">right</span>
        <span class="n">full_RIGHT</span><span class="p">[</span><span class="s1">&#39;DI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_RIGHT</span><span class="p">[</span><span class="n">right_DOI</span><span class="p">]</span>
        <span class="n">full_RIGHT</span><span class="p">[</span><span class="s1">&#39;TI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_RIGHT</span><span class="p">[</span><span class="n">right_TI</span><span class="p">]</span>
        <span class="n">full_RIGHT</span><span class="p">[</span><span class="s1">&#39;SO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_RIGHT</span><span class="p">[</span><span class="n">right_extra_journal</span><span class="p">]</span>
        <span class="n">full_RIGHT</span><span class="p">[</span><span class="s1">&#39;AU&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_RIGHT</span><span class="p">[</span><span class="n">right_author</span><span class="p">]</span>
        <span class="n">full_RIGHT</span><span class="p">[</span><span class="s1">&#39;PY&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">full_RIGHT</span><span class="p">[</span><span class="n">right_year</span><span class="p">]</span>

        <span class="n">LEFT_RIGHT</span> <span class="o">=</span> <span class="n">new_LEFT</span>
        <span class="n">LEFT_RIGHT</span> <span class="o">=</span> <span class="n">LEFT_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">LEFT_RIGHT_inner</span><span class="p">)</span>
        <span class="n">LEFT_RIGHT</span> <span class="o">=</span> <span class="n">LEFT_RIGHT</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_RIGHT</span><span class="p">)</span>
        <span class="n">LEFT_RIGHT</span> <span class="o">=</span> <span class="n">fill_NaN</span><span class="p">(</span><span class="n">LEFT_RIGHT</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">LEFT</span> <span class="o">=</span> <span class="n">LEFT</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">RIGHT</span> <span class="o">=</span> <span class="n">RIGHT</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">new_LEFT</span> <span class="o">=</span> <span class="n">new_LEFT</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">new_RIGHT</span> <span class="o">=</span> <span class="n">new_RIGHT</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">LEFT_RIGHT_inner</span> <span class="o">=</span> <span class="n">LEFT_RIGHT_inner</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">full_RIGHT</span> <span class="o">=</span> <span class="n">full_RIGHT</span>

        <span class="n">exec</span><span class="p">(</span><span class="s1">&#39;self.</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">=LEFT_RIGHT&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">biblio</span><span class="p">[</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">_</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">)]</span> <span class="o">=</span> <span class="n">LEFT_RIGHT</span>

    <span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s2">&quot;WOS&quot;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s2">&quot;SCI&quot;</span><span class="p">,</span> <span class="n">left_DOI</span><span class="o">=</span><span class="s2">&quot;DI&quot;</span><span class="p">,</span> <span class="n">left_TI</span><span class="o">=</span><span class="s2">&quot;TI&quot;</span><span class="p">,</span> <span class="n">left_extra_journal</span><span class="o">=</span><span class="s2">&quot;SO&quot;</span><span class="p">,</span> <span class="n">left_author</span><span class="o">=</span><span class="s2">&quot;AU&quot;</span><span class="p">,</span> <span class="n">left_year</span><span class="o">=</span><span class="s2">&quot;PY&quot;</span><span class="p">,</span>
                    <span class="n">right_DOI</span><span class="o">=</span><span class="s2">&quot;SCI_DI&quot;</span><span class="p">,</span> <span class="n">right_TI</span><span class="o">=</span><span class="s2">&quot;SCI_TI&quot;</span><span class="p">,</span> <span class="n">right_extra_journal</span><span class="o">=</span><span class="s2">&quot;SCI_SO&quot;</span><span class="p">,</span> <span class="n">right_author</span><span class="o">=</span><span class="s2">&quot;SCI_AU&quot;</span><span class="p">,</span> <span class="n">right_year</span><span class="o">=</span><span class="s2">&quot;SCI_PY&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s2">&quot;WOS_SCI&quot;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s2">&quot;SCP&quot;</span><span class="p">,</span> <span class="n">left_DOI</span><span class="o">=</span><span class="s2">&quot;DI&quot;</span><span class="p">,</span> <span class="n">left_TI</span><span class="o">=</span><span class="s2">&quot;TI&quot;</span><span class="p">,</span> <span class="n">left_extra_journal</span><span class="o">=</span><span class="s2">&quot;SO&quot;</span><span class="p">,</span> <span class="n">left_author</span><span class="o">=</span><span class="s2">&quot;AU&quot;</span><span class="p">,</span> <span class="n">left_year</span><span class="o">=</span><span class="s2">&quot;PY&quot;</span><span class="p">,</span>
                    <span class="n">right_DOI</span><span class="o">=</span><span class="s2">&quot;SCP_DOI&quot;</span><span class="p">,</span> <span class="n">right_TI</span><span class="o">=</span><span class="s2">&quot;SCP_Title&quot;</span><span class="p">,</span> <span class="n">right_extra_journal</span><span class="o">=</span><span class="s2">&quot;SCP_Source title&quot;</span><span class="p">,</span> <span class="n">right_author</span><span class="o">=</span><span class="s2">&quot;SCP_Authors&quot;</span><span class="p">,</span> <span class="n">right_year</span><span class="o">=</span><span class="s2">&quot;SCP_Year&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s2">&quot;WOS&quot;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s2">&quot;SCP&quot;</span><span class="p">,</span> <span class="n">left_DOI</span><span class="o">=</span><span class="s2">&quot;DI&quot;</span><span class="p">,</span> <span class="n">left_TI</span><span class="o">=</span><span class="s2">&quot;TI&quot;</span><span class="p">,</span> <span class="n">left_extra_journal</span><span class="o">=</span><span class="s2">&quot;SO&quot;</span><span class="p">,</span> <span class="n">left_author</span><span class="o">=</span><span class="s2">&quot;AU&quot;</span><span class="p">,</span> <span class="n">left_year</span><span class="o">=</span><span class="s2">&quot;PY&quot;</span><span class="p">,</span>
                    <span class="n">right_DOI</span><span class="o">=</span><span class="s2">&quot;SCP_DOI&quot;</span><span class="p">,</span> <span class="n">right_TI</span><span class="o">=</span><span class="s2">&quot;SCP_Title&quot;</span><span class="p">,</span> <span class="n">right_extra_journal</span><span class="o">=</span><span class="s2">&quot;SCP_Source title&quot;</span><span class="p">,</span> <span class="n">right_author</span><span class="o">=</span><span class="s2">&quot;SCP_Authors&quot;</span><span class="p">,</span> <span class="n">right_year</span><span class="o">=</span><span class="s2">&quot;SCP_Year&quot;</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_merge</span><span class="p">(</span><span class="n">left</span><span class="o">=</span><span class="s2">&quot;SCI&quot;</span><span class="p">,</span> <span class="n">right</span><span class="o">=</span><span class="s2">&quot;SCP&quot;</span><span class="p">,</span> <span class="n">left_DOI</span><span class="o">=</span><span class="s2">&quot;SCI_DI&quot;</span><span class="p">,</span> <span class="n">left_TI</span><span class="o">=</span><span class="s2">&quot;SCI_TI&quot;</span><span class="p">,</span> <span class="n">left_extra_journal</span><span class="o">=</span><span class="s2">&quot;SCI_SO&quot;</span><span class="p">,</span> <span class="n">left_author</span><span class="o">=</span><span class="s2">&quot;SCI_AU&quot;</span><span class="p">,</span> <span class="n">left_year</span><span class="o">=</span><span class="s2">&quot;SCP_PY&quot;</span><span class="p">,</span>
                    <span class="n">right_DOI</span><span class="o">=</span><span class="s2">&quot;SCP_DOI&quot;</span><span class="p">,</span> <span class="n">right_TI</span><span class="o">=</span><span class="s2">&quot;SCP_Title&quot;</span><span class="p">,</span> <span class="n">right_extra_journal</span><span class="o">=</span><span class="s2">&quot;SCP_Source title&quot;</span><span class="p">,</span> <span class="n">right_author</span><span class="o">=</span><span class="s2">&quot;SCP_Authors&quot;</span><span class="p">,</span> <span class="n">right_year</span><span class="o">=</span><span class="s2">&quot;SCP_Year&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;intial: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WOS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SCI</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;final : </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WOS_SCI</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;intial: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WOS_SCI</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SCP</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;final : </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WOS_SCI_SCP</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;intial: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WOS</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SCP</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;final : </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">WOS_SCP</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">Debug</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;intial: </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SCP</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">SCI</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;final : </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">SCI_SCP</span><span class="o">.</span><span class="n">shape</span><span class="p">))</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">WOS_file</span> <span class="o">=</span> <span class="s1">&#39;CIB_Wos.xlsx&#39;</span>
    <span class="n">SCI_file</span> <span class="o">=</span> <span class="s1">&#39;CIB_Scielo.xlsx&#39;</span>
    <span class="n">SCP_file</span> <span class="o">=</span> <span class="s1">&#39;CIB_Scopus.csv&#39;</span>
    <span class="n">cib</span> <span class="o">=</span> <span class="n">wosplus</span><span class="p">(</span><span class="s1">&#39;drive.cfg&#39;</span><span class="p">)</span>
    <span class="n">cib</span><span class="o">.</span><span class="n">load_biblio</span><span class="p">(</span><span class="n">WOS_file</span><span class="p">)</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/colav.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">Colav</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>